{"ast":null,"code":"var _jsxFileName = \"/home/nanda/Documents/react-inventory/src/produk/EditProduk.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Nav from \"../komponen/Nav\";\nimport Endpoint from \"../config/Endpoint\";\nimport { useForm, SubmitHandler } from \"react-hook-form\";\nimport axios from \"axios\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Loading from \"../komponen/Loading\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditProduk() {\n  _s();\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [ljenis, setLjenis] = useState([]);\n  const [lsatuan, setLsatuan] = useState([]);\n  const [load, setLoad] = useState(false);\n  const [message, setMessage] = useState('');\n  const [payload, setPayload] = useState('');\n  const {\n    id,\n    setId\n  } = useParams(); ///untuk get param id yang dilemparkan\n\n  const [foto, setFoto] = useState('');\n  useEffect(() => {\n    getJenisProduk();\n    getSatuan();\n    fetch(Endpoint.BASE_URL + 'produk/detail', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        id: id\n      })\n    }).then(response => response.json()).then(json => {\n      setValue(\"nama\", json.payload.nama);\n      setValue(\"id_jenis\", json.payload.id_jenis);\n      setValue(\"id_satuan\", json.payload.id_satuan);\n      setValue(\"hbeli\", json.payload.hbeli);\n      setFoto(Endpoint.GAMBAR_URL + json.payload.gambar);\n    });\n  }, []);\n\n  const getJenisProduk = () => {\n    axios.get(Endpoint.BASE_URL + `jenis_produk`).then(res => {\n      console.log(res.data.payload);\n      setLjenis(res.data.payload);\n    });\n  };\n\n  const getSatuan = () => {\n    axios.get(Endpoint.BASE_URL + `satuan`).then(res => {\n      console.log(res.data.payload);\n      setLsatuan(res.data.payload);\n    });\n  };\n\n  const onSubmit = data => {\n    setLoad(true);\n    const fdata = new FormData();\n    fdata.append('nama', data.nama);\n    fdata.append('id_jenis', data.id_jenis);\n    fdata.append('id_satuan', data.id_satuan);\n    fdata.append('hbeli', data.hbeli);\n    fdata.append('gambar', foto);\n    axios.post(Endpoint.BASE_URL + `produk/edit`, fdata, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }).then(res => {\n      console.log(res.data.status);\n      console.log(res.data.message);\n      setMessage(res.data.message);\n      console.log(res.data.payload);\n      setPayload(res.data.payload);\n      setLoad(false);\n    });\n  };\n\n  if (load) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Nav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Edit Produk\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(onSubmit),\n            children: [/*#__PURE__*/_jsxDEV(\"input\", { ...register(\"id\", {\n                required: true\n              }),\n              type: \"hidden\",\n              value: id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"center\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                width: \"150\",\n                height: \"150\",\n                src: foto,\n                className: \"img-thumbnail\",\n                alt: \"Tidak ada gambar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-floating mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", { ...register(\"nama\", {\n                  required: true\n                }),\n                type: \"text\",\n                className: \"form-control\",\n                id: \"nama\",\n                placeholder: \"name@example.com\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"nama\",\n                children: \"Nama produk\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), errors.nama && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invalid-feedback\",\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-floating mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", { ...register(\"hbeli\", {\n                  required: true\n                }),\n                type: \"number\",\n                className: \"form-control\",\n                id: \"hbeli\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"nama\",\n                children: \"Harga beli (Rp.)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this), errors.hbeli && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 46\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-floating\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", { ...register(\"id_jenis\", {\n                  required: true\n                }),\n                className: \"form-select\",\n                \"aria-label\": \"Default select example\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  selected: true,\n                  children: \"Pilih salah satu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 37\n                }, this), ljenis.map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: x.id,\n                  children: x.nama\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 41\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"floatingSelect\",\n                children: \"Pilih jenis produk\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this), errors.id_jenis && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 49\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-floating\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", { ...register(\"id_satuan\", {\n                  required: true\n                }),\n                className: \"form-select\",\n                \"aria-label\": \"Default select example\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  selected: true,\n                  children: \"Pilih salah satu\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 37\n                }, this), lsatuan.map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: x.id,\n                  children: x.nama\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 41\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"floatingSelect\",\n                children: \"Pilih satuan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 29\n            }, this), errors.id_satuan && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"This field is required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 50\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn-group\",\n              role: \"group\",\n              \"aria-label\": \"Basic example\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-primary\",\n                children: \"Simpan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/produk\",\n                className: \"btn btn-secondary\",\n                children: \"Kembali\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), message == '' ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 44\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-success\",\n            role: \"alert\",\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 58\n          }, this), payload == '' ? /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 43\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger\",\n            role: \"alert\",\n            children: payload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 57\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(EditProduk, \"zcq5eJuKzMaxkQyn+LfuQ+ipCXQ=\", false, function () {\n  return [useForm, useParams];\n});\n\n_c = EditProduk;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProduk\");","map":{"version":3,"sources":["/home/nanda/Documents/react-inventory/src/produk/EditProduk.jsx"],"names":["React","useEffect","useState","Nav","Endpoint","useForm","SubmitHandler","axios","Link","useParams","Loading","EditProduk","register","handleSubmit","setValue","formState","errors","ljenis","setLjenis","lsatuan","setLsatuan","load","setLoad","message","setMessage","payload","setPayload","id","setId","foto","setFoto","getJenisProduk","getSatuan","fetch","BASE_URL","method","headers","Accept","body","JSON","stringify","then","response","json","nama","id_jenis","id_satuan","hbeli","GAMBAR_URL","gambar","get","res","console","log","data","onSubmit","fdata","FormData","append","post","status","required","map","x"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport Nav from \"../komponen/Nav\";\nimport Endpoint from \"../config/Endpoint\";\nimport { useForm, SubmitHandler } from \"react-hook-form\";\nimport axios from \"axios\";\nimport {Link, useParams} from \"react-router-dom\";\nimport Loading from \"../komponen/Loading\";\n\n\nexport default function EditProduk(){\n\n    const { register, handleSubmit, setValue, formState: { errors } } = useForm();\n    const [ljenis,setLjenis] = useState([])\n    const [lsatuan,setLsatuan] = useState([])\n    const [load,setLoad] = useState(false)\n    const [message,setMessage]=useState('')\n    const [payload,setPayload]=useState('')\n    const {id, setId} =  useParams() ///untuk get param id yang dilemparkan\n    const [foto,setFoto] = useState('')\n\n    useEffect(() => {\n        getJenisProduk()\n        getSatuan()\n\n        fetch(Endpoint.BASE_URL + 'produk/detail', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                id: id\n            })\n        })\n            .then(response => response.json())\n            .then(json => {\n                setValue(\"nama\", json.payload.nama);\n                setValue(\"id_jenis\", json.payload.id_jenis)\n                setValue(\"id_satuan\", json.payload.id_satuan)\n                setValue(\"hbeli\", json.payload.hbeli)\n                setFoto(Endpoint.GAMBAR_URL + json.payload.gambar)\n            })\n    }, []);\n\n\n\n    const getJenisProduk = () => {\n        axios.get(Endpoint.BASE_URL + `jenis_produk`)\n            .then(res => {\n                console.log(res.data.payload)\n                setLjenis(res.data.payload)\n            })\n    }\n    const getSatuan = () => {\n        axios.get(Endpoint.BASE_URL + `satuan`)\n            .then(res => {\n                console.log(res.data.payload)\n                setLsatuan(res.data.payload)\n            })\n    }\n    const onSubmit = data => {\n        setLoad(true)\n\n        const fdata = new FormData()\n        fdata.append('nama', data.nama)\n        fdata.append('id_jenis',data.id_jenis)\n        fdata.append('id_satuan',data.id_satuan)\n        fdata.append('hbeli',data.hbeli)\n        fdata.append('gambar', foto)\n\n        axios.post(Endpoint.BASE_URL + `produk/edit`, fdata, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }})\n            .then(res => {\n                console.log(res.data.status)\n                console.log(res.data.message)\n                setMessage(res.data.message)\n                console.log(res.data.payload)\n                setPayload(res.data.payload)\n                setLoad(false)\n            })\n    }\n\n    if (load){\n        return (\n            <Loading/>\n        )\n    }else{\n        return(\n            <div>\n                <Nav/>\n                <div className=\"container\">\n                    <div className=\"container-fluid\">\n                        <h2>Edit Produk</h2>\n\n                        <br/>\n\n                        <form onSubmit={handleSubmit(onSubmit)}>\n\n                            <input {...register(\"id\",{required:true})} type=\"hidden\" value={id}/>\n                            <center>\n                                <img width=\"150\" height=\"150\"  src={ foto }  className=\"img-thumbnail\" alt=\"Tidak ada gambar\"/>\n                            </center>\n\n                            <br/>\n                            <div className=\"form-floating mb-3\">\n                                <input {...register(\"nama\",{required:true})} type=\"text\" className=\"form-control\" id=\"nama\"\n                                       placeholder=\"name@example.com\"/>\n                                <label htmlFor=\"nama\">Nama produk</label>\n                            </div>\n                            {errors.nama && <div className=\"invalid-feedback\">\n                                This field is required\n                            </div>}\n\n                            <div className=\"form-floating mb-3\">\n                                <input {...register(\"hbeli\",{required:true})} type=\"number\" className=\"form-control\" id=\"hbeli\"/>\n                                <label htmlFor=\"nama\">Harga beli (Rp.)</label>\n                            </div>\n                            {errors.hbeli && <span>This field is required</span>}\n\n\n                            <div className=\"form-floating\">\n                                <select {...register(\"id_jenis\",{required:true})} className=\"form-select\" aria-label=\"Default select example\">\n                                    <option selected>Pilih salah satu</option>\n                                    {ljenis.map(x => (\n                                        <option value={x.id}>{x.nama}</option>\n                                    ))}\n                                </select>\n                                <label htmlFor=\"floatingSelect\">Pilih jenis produk</label>\n                            </div>\n                            {errors.id_jenis && <span>This field is required</span>}\n\n\n                            <br/>\n                            <div className=\"form-floating\">\n                                <select {...register(\"id_satuan\",{required:true})} className=\"form-select\" aria-label=\"Default select example\">\n                                    <option selected>Pilih salah satu</option>\n                                    {lsatuan.map(x => (\n                                        <option value={x.id}>{x.nama}</option>\n                                    ))}\n                                </select>\n                                <label htmlFor=\"floatingSelect\">Pilih satuan</label>\n                            </div>\n                            {errors.id_satuan && <span>This field is required</span>}\n\n                            <br/>\n                            <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                                <button type=\"submit\" className=\"btn btn-primary\">Simpan</button>\n                                <Link to=\"/produk\" className=\"btn btn-secondary\">Kembali</Link>\n                            </div>\n\n                        </form>\n\n                        <br/>\n                        { message == '' ?  <div></div> : <div className=\"alert alert-success\" role=\"alert\">\n                            {message}\n                        </div>}\n\n                        { payload == '' ? <div></div> : <div className=\"alert alert-danger\" role=\"alert\">\n                            {payload}\n                        </div>}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n\n\n}"]},"metadata":{},"sourceType":"module"}