{"ast":null,"code":"import _slicedToArray from\"/home/nanda/Documents/react-inventory/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Nav from\"../komponen/Nav\";import Endpoint from\"../config/Endpoint\";import axios from\"axios\";import{Link}from\"react-router-dom\";import Loading from\"../komponen/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Produk(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),payload=_useState2[0],setPayload=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),load=_useState4[0],setLoad=_useState4[1];var getPayload=function getPayload(){setLoad(true);axios.get(Endpoint.BASE_URL+\"produk\").then(function(res){console.log(res.data.payload);setPayload(res.data.payload);setLoad(false);});};function hapus(idProduk){console.log(idProduk);fetch(Endpoint.BASE_URL+'produk',{method:'DELETE',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({id:idProduk})}).then(function(json){getPayload();});}useEffect(function(){getPayload();},[]);if(load){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Loading,{})});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Produk\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/add_produk\",className:\"btn btn-primary\",children:\"Tambah\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Gambar\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nama\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Jenis\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Satuan\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Harga Beli\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Aksi\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:payload.map(function(x){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{alt:\"Tidak ada gambar\",width:\"60\",height:\"60\",src:Endpoint.GAMBAR_URL+x.gambar})}),/*#__PURE__*/_jsx(\"td\",{children:x.nama}),/*#__PURE__*/_jsx(\"td\",{children:x.jenis}),/*#__PURE__*/_jsx(\"td\",{children:x.satu}),/*#__PURE__*/_jsx(\"td\",{style:{\"text-align\":\"right\"},children:'Rp. '+x.hbeli.toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",role:\"group\",\"aria-label\":\"Basic outlined example\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return hapus(x.id);},className:\"btn btn-outline-danger\",children:\"Hapus\"}),/*#__PURE__*/_jsx(Link,{to:'/edit_produk/'+x.id,className:\"btn btn-outline-primary\",children:\"Edit\"})]})})]},x.id);})})]})]})})]});}}","map":{"version":3,"sources":["/home/nanda/Documents/react-inventory/src/produk/Produk.jsx"],"names":["React","useEffect","useState","Nav","Endpoint","axios","Link","Loading","Produk","payload","setPayload","load","setLoad","getPayload","get","BASE_URL","then","res","console","log","data","hapus","idProduk","fetch","method","headers","Accept","body","JSON","stringify","id","json","map","x","GAMBAR_URL","gambar","nama","jenis","satu","hbeli","toLocaleString"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport Nav from \"../komponen/Nav\";\nimport Endpoint from \"../config/Endpoint\";\nimport axios from \"axios\";\nimport {Link} from \"react-router-dom\";\nimport Loading from \"../komponen/Loading\";\n\nexport default function Produk(){\n\n    const [payload,setPayload]=useState([])\n    const [load,setLoad]=useState(false)\n    const getPayload = () => {\n        setLoad(true)\n        axios.get(Endpoint.BASE_URL + `produk`)\n            .then(res => {\n                console.log(res.data.payload)\n                setPayload(res.data.payload)\n                setLoad(false)\n            })\n    }\n    function hapus (idProduk){\n        console.log(idProduk)\n        fetch(Endpoint.BASE_URL + 'produk', {\n            method: 'DELETE',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                id: idProduk\n            })\n        }).then(json => {\n            getPayload()\n        })\n    }\n\n    useEffect(() => {\n        getPayload()\n    },[])\n\n    if(load){\n        return (\n            <div>\n                <Loading/>\n            </div>\n        )\n    }else{\n        return(\n            <div>\n                <Nav/>\n\n                <div className=\"container\">\n                    <div className=\"container-fluid\">\n                        <h2>Produk</h2>\n                        <br/>\n\n                        <Link to=\"/add_produk\" className=\"btn btn-primary\">Tambah</Link>\n                        <br/>\n                        <br/>\n\n\n                        <table className=\"table table-bordered table-hover\">\n                            <thead>\n                            <tr>\n                                <th>Gambar</th>\n                                <th>Nama</th>\n                                <th>Jenis</th>\n                                <th>Satuan</th>\n                                <th>Harga Beli</th>\n                                <th>Aksi</th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            {payload.map(x => (\n                                <tr key={x.id}>\n                                    <td><img alt=\"Tidak ada gambar\" width=\"60\" height=\"60\" src={Endpoint.GAMBAR_URL + x.gambar}/></td>\n                                    <td>{x.nama}</td>\n                                    <td>{x.jenis}</td>\n                                    <td>{x.satu}</td>\n                                    <td style={{\"text-align\":\"right\"}}>{'Rp. ' + x.hbeli.toLocaleString() }</td>\n                                    <td>\n                                        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\">\n                                            <button type=\"button\" onClick={ () => hapus(x.id) }  className=\"btn btn-outline-danger\">Hapus</button>\n                                            <Link to={'/edit_produk/' + x.id} className=\"btn btn-outline-primary\">Edit</Link>\n                                        </div>\n\n                                    </td>\n                                </tr>\n                            ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n\n\n}"]},"metadata":{},"sourceType":"module"}