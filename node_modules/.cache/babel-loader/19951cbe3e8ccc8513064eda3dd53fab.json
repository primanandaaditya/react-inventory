{"ast":null,"code":"import _objectSpread from\"/home/nanda/Documents/react-inventory/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/nanda/Documents/react-inventory/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Nav from\"../komponen/Nav\";import{Link}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import{useParams}from\"react-router-dom\";import Endpoint from\"../config/Endpoint\";import Loading from\"../komponen/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditJenisProduk(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,watch=_useForm.watch,errors=_useForm.formState.errors;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),load=_useState2[0],setLoad=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),gagal=_useState4[0],setGagal=_useState4[1];var _useParams=useParams(),id=_useParams.id,setId=_useParams.setId;useEffect(function(){fetch(Endpoint.BASE_URL+'jenis_produk/detail',{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({id:id})}).then(function(response){return response.json();}).then(function(json){//untuk memberi nilai pada setiap textbox\nsetValue(\"nama\",json.payload.nama);setValue(\"keterangan\",json.payload.keterangan);});},[]);var onSubmit=function onSubmit(data){setLoad(true);fetch(Endpoint.BASE_URL+'jenis_produk',{method:'PUT',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({id:id,nama:data.nama,keterangan:data.keterangan})}).then(function(response){return response.json();}).then(function(json){console.log(json.message);setGagal(json.message);setLoad(false);});};if(load){return/*#__PURE__*/_jsx(Loading,{});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Jenis Produk\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{id:\"form\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"id\",{required:true})),{},{type:\"hidden\",value:id})),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register(\"nama\",{required:true})),{},{className:\"form-control\",name:\"nama\",id:\"nama\"})),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nama\",children:\"Nama jenis produk\"})]}),errors.nama&&/*#__PURE__*/_jsx(\"span\",{className:\"invalid-feedback\",children:\"Nama harus diisi\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating mb-3\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register(\"keterangan\",{required:true})),{},{name:\"keterangan\",id:\"keterangan\",className:\"form-control\"})),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"keterangan\",children:\"Keterangan\"})]}),errors.keterangan&&/*#__PURE__*/_jsx(\"span\",{className:\"invalid-feedback\",children:\"Keterangan harus diisi\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",children:\"Update\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-secondary\",to:\"/jenis_produk\",children:\"Kembali\"})]}),/*#__PURE__*/_jsx(\"br\",{}),gagal]})})]});}}","map":{"version":3,"sources":["/home/nanda/Documents/react-inventory/src/jenis_produk/EditJenisProduk.jsx"],"names":["React","useEffect","useState","Nav","Link","useForm","useParams","Endpoint","Loading","EditJenisProduk","register","handleSubmit","setValue","watch","errors","formState","load","setLoad","gagal","setGagal","id","setId","fetch","BASE_URL","method","headers","Accept","body","JSON","stringify","then","response","json","payload","nama","keterangan","onSubmit","data","console","log","message","required"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport Nav from \"../komponen/Nav\";\nimport {Link} from \"react-router-dom\";\nimport {  useForm } from \"react-hook-form\";\nimport { useParams} from \"react-router-dom\";\nimport Endpoint from \"../config/Endpoint\";\nimport Loading from \"../komponen/Loading\";\n\nexport default function EditJenisProduk(){\n    const { register, handleSubmit, setValue, watch, formState: { errors } } = useForm();\n    const [load, setLoad] = useState(false)\n    const [gagal, setGagal] = useState([])\n    const {id, setId} =  useParams()\n\n    useEffect(() => {\n        fetch(Endpoint.BASE_URL + 'jenis_produk/detail', {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                id: id\n            })\n        })\n            .then(response => response.json())\n            .then(json => {\n                //untuk memberi nilai pada setiap textbox\n                setValue(\"nama\", json.payload.nama);\n                setValue(\"keterangan\", json.payload.keterangan)\n            })\n    }, []);\n\n\n    const onSubmit = data => {\n        setLoad(true)\n        fetch(Endpoint.BASE_URL + 'jenis_produk', {\n            method: 'PUT',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                id: id,\n                nama: data.nama,\n                keterangan: data.keterangan\n            })\n        })\n            .then(response => response.json())\n            .then(json => {\n                console.log(json.message)\n                setGagal(json.message)\n                setLoad(false)\n            })\n    };\n\n    if (load){\n        return (\n            <Loading/>\n        )\n    }else{\n        return(\n            <div>\n                <Nav/>\n                <div className=\"container\">\n                    <div className=\"container-fluid\">\n\n                        <h2>Edit Jenis Produk</h2>\n\n                        <br/>\n                        <form id=\"form\" onSubmit={handleSubmit(onSubmit)}>\n                            <input {...register(\"id\",{required:true})} type=\"hidden\" value={id}/>\n                            <div className=\"form-floating mb-3\">\n                                <input type=\"text\" {...register(\"nama\",{required:true})} className=\"form-control\" name=\"nama\" id=\"nama\"/>\n                                <label htmlFor=\"nama\">Nama jenis produk</label>\n                            </div>\n                            {errors.nama && <span className=\"invalid-feedback\">Nama harus diisi</span>}\n                            <div className=\"form-floating mb-3\">\n                                <input  type=\"text\" {...register(\"keterangan\",{required:true})} name=\"keterangan\" id=\"keterangan\" className=\"form-control\"/>\n                                <label htmlFor=\"keterangan\">Keterangan</label>\n                            </div>\n                            {errors.keterangan && <span className=\"invalid-feedback\">Keterangan harus diisi</span>}\n                            <br/>\n                            <button className=\"btn btn-primary\" type=\"submit\">Update</button>\n                            <Link className=\"btn btn-secondary\" to=\"/jenis_produk\">Kembali</Link>\n\n                        </form>\n                        <br/>\n                        { gagal }\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}